<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script
      src="https://kit.fontawesome.com/9068978f09.js"
      crossorigin="anonymous"
    ></script>
    <style>
      .first {
        border: 2px solid black;
        width: 370px;
        height: 40px;
        margin: -2px;
        text-align: right;
        box-sizing: border-box;
      }
      .first input {
        width: 300px;
        height: 30px;
        margin-right: 5px;
        margin-top: 3px;

        border-width: 0;
      }

      input::placeholder {
        text-align: right;
      }

      #one {
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
      }

      #three {
        border-bottom-right-radius: 10px;
        border-bottom-left-radius: 10px;
      }
      .red {
        border-color: red;
        position: relative;
        z-index: 2;
      }
      .green {
        border-color: green;
        position: relative;
        z-index: 2;
      }

      .select {
        padding: 15px 10px;
      }
      .genla1 {
        margin: -3px;
        border-radius: 5px 0px 0px 5px;
      }
      .genla2 {
        margin: -3px;
        border-radius: 0px 5px 5px 0px;
      }
      .select input[type="radio"] {
        display: none;
      }
      .select input[type="radio"] + label {
        display: inline-block;
        height: 25px;
        width: 90px;
        border: 1px solid lightgrey;
        text-align: center;
        font-weight: bold;
        font-size: 15px;
        color: lightgrey;
        cursor: pointer;
      }
      .select input[type="radio"]:checked + label {
        border-color: green;
        color: green;
      }
    </style>
  </head>
  <body>
    <form action="">
      <div class="first" id="one">
        <i class="fa-light fa-user"></i>
        <input type="text" placeholder="@naver.com" />
      </div>

      <div class="first" id="two">
        <i class="fa-solid fa-lock"></i>
        <input type="password" name="" id="" /><i
          class="fa-solid fa-eye-slash"
        ></i>
      </div>

      <div class="first" id="three">
        <i class="fa-solid fa-envelope"></i>
        <input type="email" name="" id="" />
      </div>
      <div id="logguide"></div>
      <div id="pwguide"></div>
      <div id="emguide"></div>

      <script>
        const logid = document.querySelector("#one input");
        const logpw = document.querySelector("#two input");
        const logem = document.querySelector("#three input");
        const logguide = document.querySelector("#logguide");
        const pwguide = document.querySelector("#pwguide");
        const emguide = document.querySelector("#emguide");
        const one = document.querySelector("#one.first");
        const two = document.querySelector("#two.first");
        const three = document.querySelector("#three.first");
        const eyeIcon = document.querySelector("#two i.fa-eye-slash");

        const passCheak = (password =
          /^.*(?=.{6,20})(?=.*[0-9])(?=.*[a-zA-Z]).*$/);
        const emCheak = (email =
          /([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/);

        logid.addEventListener("input", function () {
          if (logid.value.length < 5 || logid.value.length > 20) {
            logguide.textContent = "5~16자리와 숫자를 조합해주세요";
            logguide.style.color = "red";
            one.classList.add("red");
            one.classList.remove("green");
          } else {
            one.classList.remove("red");
            one.classList.add("green");
            logguide.textContent = "";
          }
        });

        logpw.addEventListener("input", function () {
          if (
            logpw.value.length < 8 ||
            logpw.value.length > 20 ||
            !passCheak.test(logpw.value)
          ) {
            pwguide.textContent =
              "숫자와 특수문자를 포함하여 8~20자로 조합해주세요";
            two.classList.add("red");

            two.classList.remove("green");
            pwguide.style.color = "red";
          } else {
            two.classList.remove("red");
            two.classList.add("green");
            pwguide.textContent = "";
          }
        });

        eyeIcon.addEventListener("click", function () {
          const type = logpw.getAttribute("type");
          if (type === "password") {
            logpw.setAttribute("type", "text");
            eyeIcon.classList.remove("fa-eye-slash");
            eyeIcon.classList.add("fa-eye");
          } else {
            logpw.setAttribute("type", "password");
            eyeIcon.classList.remove("fa-eye");
            eyeIcon.classList.add("fa-eye-slash");
          }
        });

        logem.addEventListener("input", function () {
          if (!emCheak.test(logem.value)) {
            emguide.textContent = "이메일 양식을 지켜주세요";
            three.classList.add("red");
            three.classList.remove("green");
            emguide.style.color = "red";
          } else {
            three.classList.remove("red");
            three.classList.add("green");
            emguide.textContent = "";
          }
        });
      </script>
      <div>
        <div class="select">
          <input class="gender" type="radio" name="gender" id="male" />
          <label class="genla1" for="male">남성</label>
          <input class="gender" type="radio" name="gender" id="female" />
          <label class="genla2" for="female">여성</label>
        </div>
        <div class="select">
          <input class="nationality" type="radio" name="nationality" id="in" />
          <label class="genla1" for="in">내국인</label>
          <input class="nationality" type="radio" name="nationality" id="out" />
          <label class="genla2" for="out">외국인</label>
        </div>
      </div>
    </form>
  </body>
</html>
